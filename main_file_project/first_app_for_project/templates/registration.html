<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f4f4f4;
    }
    .registration-container {
      width: 330px;
      padding: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .registration-container h2 {
      text-align: center;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
    }
    .form-group input {
      width: 90%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .btn-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .btn-container button {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn-container button.register {
      background-color: #28a745;
      color: #fff;
    }


    body {
      background: rgba(14, 29, 52, 0.9);
  }
  </style>
</head>
<body>
  <div class="registration-container">
    <h2>Registration</h2>
    <form method="POST">
      {% csrf_token %}
      <form>
        <div class="form-group">
          <label for="username">Username</label>
          <input type="text" id="username" name="username" minlength="6" maxlength="25" required
                 placeholder="Enter a username (letters, numbers, underscores)"
                 title="Username must be 6-20 characters long and can contain letters, numbers, or underscores.">
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required
                 minlength="8" maxlength="8" placeholder="Enter a strong password (min. 8 characters)"
                 title="Password must be at least 8 characters long and contain a mix of uppercase, lowercase letters, numbers, and symbols. Consider using a password manager for secure password creation and storage.">
          {% comment %} <input type="checkbox" onclick="myFunction()" style="width:10%; margin-left: 70%;">  {% endcomment %}
        </div>
        <div class="form-group">
          <label for="confirm_password">Confirm Password</label>
          <input type="password" id="confirm_password" name="confirm_password" maxlength="8" minlength="8" required
                 placeholder="Re-enter your password" oninput="validatePassword()">
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" minlength="6" maxlength="30" name="email" required
                 placeholder="Enter your email address"
                 title="Please enter a valid email address (e.g., example@domain.com).">
        </div>

        <div class="btn-container">
          <button type="submit" class="register" onclick="return validateForm()">Register</button>
        </div>
      </form>
       
  </div>
</body>
<script>
    function validatePassword() {
       var newPassword = document.getElementById("password");
       var confirmPassword = document.getElementById("confirm_password");

       if (newPassword.value != confirmPassword.value) {
           confirmPassword.setCustomValidity("Passwords do not match");
       } else {
           confirmPassword.setCustomValidity("");
       }
   }



   function myFunction() {
       var x = document.getElementById("password");
       if (x.type === "password") {
         x.type = "text";
       } else {
         x.type = "password";
       }
   }
    function validateForm() {
      let isValid = true;
    
      // Username Validation
      const username = document.getElementById("username").value;
      if (username.length < 6 || username.length > 25) {
        alert("Username must be between 6 and 25 characters long.");
        isValid = false;
      } else if (!/^[a-zA-Z0-9_]+$/.test(username)) {
        alert("Username can only contain letters, numbers, and underscores.");
        isValid = false;
      }
    
      // Password Validation
      const password = document.getElementById("password").value;
      if (password.length !=  8 ) {
        alert("Password must be of 8 characters long.");
        isValid = false;
      }
    
      // Password Confirmation Validation
      const confirmPassword = document.getElementById("confirm_password").value;
      if (confirmPassword !== password) {
        alert("Passwords do not match.");
        isValid = false;
      }
    
      // Email Validation (using a more relaxed regex)
      const email = document.getElementById("email").value;
      if (!/^[a-zA-Z][\w\.-]*\d+@[\w\.-]+\.[a-z]{2,}$/.test(email)) {
        alert("Please ends email address with @gmail.com and starts with letters ");
        isValid = false;
      }
    
      // Phone Number Validation
      const phone = document.getElementById("phone").value;
      if (phone.length !== 10 || !/^[6789]\d{9}$/.test(phone)) {
        alert("Please enter a valid 10-digit phone number starting with 6, 7, 8, or 9.");
        isValid = false;
      }
    
      return isValid; // Return false to prevent form submission if validation fails
    }
    

</script>
</html>
